<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nivasa</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Plus+Jakarta+Sans&display=swap" rel="stylesheet">
    <link href="/css/rating.css" rel="stylesheet">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.js"></script>
</head>

<body>
    <!-- Dark Mode Toggle Button -->
    <button id="toggleDarkMode"
      style="position: fixed; top: 100px; right: 30px; z-index: 9999;
             background-color: #f8f9fa; color: #000;
             border: none; padding: 10px 14px;
             border-radius: 50px;
             box-shadow: 0 2px 10px rgba(0,0,0,0.15);
             cursor: pointer;
             font-size: 18px;">
      üåô
    </button>
  



    <%- include('../includes/navbar.ejs') %>

    <!-- Main Container for Pages -->
    <div class="container">
        <%- include('../includes/flash.ejs') %>
        <%- body %>
    </div>

    <!-- Footer -->
    <%- include('../includes/footer.ejs') %>

    <!-- JS Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <script src="/js/script.js"></script>

    <!-- Form Validation -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const forms = document.querySelectorAll(".needs-validation");
            Array.from(forms).forEach(function (form) {
                form.addEventListener("submit", function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add("was-validated");
                }, false);
            });
        });
    </script>

    <!--  Dark Mode Script -->
    <script>
        const toggleBtn = document.getElementById("toggleDarkMode");

        toggleBtn.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const isDark = document.body.classList.contains("dark-mode");
            localStorage.setItem("theme", isDark ? "dark" : "light");
            toggleBtn.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
        });

        window.onload = () => {
            const savedTheme = localStorage.getItem("theme");
            if (savedTheme === "dark") {
                document.body.classList.add("dark-mode");
                toggleBtn.textContent = "‚òÄÔ∏è";
            }
        };
    </script>
</body>
</html>
